================================================================================
INSTALLATION INSTRUCTIONS - ManageMyParking v2.0
SHARED HOSTING (MySQL Only)
================================================================================

üì¶ PACKAGE: ManageMyParking-v2.0-FINAL.zip

================================================================================
STEP 1: RUN THE SQL UPDATE
================================================================================

1. Log into cPanel
2. Open phpMyAdmin
3. Select your ManageMyParking database (left sidebar)
4. Click the "SQL" tab at the top
5. Open the file: sql/ADD-V2-COLUMNS.sql
6. Copy ALL the contents
7. Paste into the SQL query box
8. Click "Go"

EXPECTED RESULT:
----------------
You may see some red error messages like:
  ‚ùå "Duplicate column name 'ticket_type'"
  ‚ùå "Duplicate column name 'status'"

THIS IS NORMAL! It just means the column already exists.

At the bottom, you should see:
  ‚úÖ "Database update completed! v2.0 columns and tables added."

If you see this green message, the SQL ran successfully!

================================================================================
STEP 2: UPLOAD THE PHP FILES
================================================================================

1. Extract ManageMyParking-v2.0-FINAL.zip on your computer
2. Using FTP or cPanel File Manager:
   - Upload ALL files to your web directory
   - Overwrite existing files when prompted
   - Make sure to upload:
     ‚úì All .php files in /api folder
     ‚úì All .php files in /includes folder
     ‚úì index.html and other HTML files
     ‚úì All .css and .js files

3. Verify file permissions:
   - PHP files: 644
   - Folders: 755

================================================================================
STEP 3: CLEAR YOUR BROWSER CACHE
================================================================================

IMPORTANT: You must clear your browser cache or you'll see old errors!

Chrome/Edge:
  Press: Ctrl + Shift + R (Windows)
  Press: Cmd + Shift + R (Mac)

Firefox:
  Press: Ctrl + F5 (Windows)
  Press: Cmd + Shift + R (Mac)

Safari:
  Press: Cmd + Option + R

Or use Incognito/Private browsing mode to test.

================================================================================
STEP 4: TEST THE APPLICATION
================================================================================

1. Log into ManageMyParking
2. Go to Settings ‚Üí Ticket Status
   - Should load without 500 errors
   - Property dropdown should populate

3. Go to Vehicles tab
   - Create or edit a vehicle
   - Should save without errors

4. Create a violation ticket
   - Should create successfully
   - Try printing (ZPL or PDF)
   - Should generate without errors

5. Check browser console (F12 ‚Üí Console tab)
   - Should see no red errors

================================================================================
WHAT THIS UPDATE DOES
================================================================================

DATABASE CHANGES:
-----------------
Adds 8 new columns to violation_tickets:
  ‚úì ticket_type (VIOLATION or WARNING)
  ‚úì status (active or closed)
  ‚úì fine_disposition (collected or dismissed)
  ‚úì closed_at (when closed)
  ‚úì closed_by_user_id (who closed it)
  ‚úì payment_status (unpaid/partial/paid)
  ‚úì amount_paid (payment amount)
  ‚úì qr_code_generated_at (QR timestamp)

Creates 3 new tables:
  ‚úì payment_settings
  ‚úì ticket_payments
  ‚úì qr_codes

PHP CODE FIXES:
---------------
Fixed 3 files with column name mismatches:
  ‚úì api/violations-zpl.php
  ‚úì api/violations-ticket.php
  ‚úì api/violations-create.php

All property_name references now use correct property column.

================================================================================
TROUBLESHOOTING
================================================================================

ERROR: "Table 'violation_tickets' doesn't exist"
------------------------------------------------
You need to run the base installation SQL first.
Run: sql/COMPLETE-V2-MIGRATION.sql

ERROR: Still getting 500 errors after update
---------------------------------------------
1. Clear browser cache completely
2. Check PHP error logs in cPanel
3. Make sure ALL files were uploaded
4. Verify database name in includes/config.php

ERROR: "Access denied for user"
--------------------------------
Your database user needs these permissions:
  - SELECT, INSERT, UPDATE, DELETE
  - CREATE, ALTER, INDEX
  - CREATE TEMPORARY TABLES

Contact your hosting provider to grant these.

ERROR: Columns still not found
-------------------------------
The SQL may not have run completely.
Try running just the ALTER TABLE statements one at a time.

================================================================================
SUPPORT FILES INCLUDED
================================================================================

‚úì COMPLETE-DATABASE-AUDIT.txt - Full column audit
‚úì FIXES-APPLIED.txt - All changes documented
‚úì sql/ADD-V2-COLUMNS.sql - Database update (USE THIS!)
‚úì This file - Installation guide

================================================================================
CRITICAL NOTES
================================================================================

‚ö†Ô∏è PROTECTED FILES - NEVER MODIFY:
   - jrk/ directory contains v1.1 production files
   - These are protected and must not be changed

‚úÖ MySQL ONLY:
   - This system requires MySQL 5.7+ or MariaDB 10.2+
   - PostgreSQL is NOT supported

‚úÖ BACKUP FIRST:
   - Always backup your database before running SQL updates
   - Use phpMyAdmin ‚Üí Export to create a backup

================================================================================
